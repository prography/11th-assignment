# 시드 데이터 명세

서버 시작 시 `data.sql`을 통해 자동 로드되는 데모 데이터입니다.

---

## 계정 정보

| 구분 | loginId | password | 역할 |
|------|---------|----------|------|
| 관리자 | `admin` | `prography` | ADMIN |
| 테스트 계정 | `prography` | `prography` | MEMBER |
| 일반 회원 (34명) | `lee.seoyeon` 등 | `prography` | MEMBER |

> 모든 계정의 비밀번호는 `prography`로 통일되어 있습니다.

---

## 기수 & 파트 & 팀

### 기수

| ID | 기수 |
|----|------|
| 1 | 10기 |
| 2 | 11기 (현재 운영 기수) |

### 파트 (기수별 6개, 총 12개)

| ID | 기수 | 파트명 |
|----|------|--------|
| 1~6 | 10기 | iOS, AOS, BE(Spring), FE, PO, Designer |
| 7~12 | 11기 | iOS, AOS, BE(Spring), FE, PO, Designer |

### 팀 (11기, 6개)

| ID | 팀명 |
|----|------|
| 1 | Team 1 |
| 2 | Team 2 |
| 3 | Team 3 |
| 4 | Team 4 |
| 5 | Team 5 |
| 6 | Team 6 |

---

## 회원 (36명)

각 팀에 6명씩 배정되며, 팀마다 모든 파트(iOS, AOS, BE, FE, PO, Designer)가 1명씩 존재합니다.

### Team 1

| ID  | loginId     | 이름  | 파트         | 역할     |
| --- | ----------- | --- | ---------- | ------ |
| 1   | admin       | 관리자 | BE(Spring) | ADMIN  |
| 2   | prography   | 김민수 | iOS        | MEMBER |
| 3   | lee.seoyeon | 이서연 | AOS        | MEMBER |
| 4   | park.jihun  | 박지훈 | FE         | MEMBER |
| 5   | jung.sumin  | 정수민 | PO         | MEMBER |
| 6   | choi.yejin  | 최예진 | Designer   | MEMBER |

### Team 2

| ID | loginId | 이름 | 파트 |
|----|---------|------|------|
| 7 | han.doyun | 한도윤 | iOS |
| 8 | yoon.seojun | 윤서준 | AOS |
| 9 | kang.haeun | 강하은 | BE(Spring) |
| 10 | lim.jiho | 임지호 | FE |
| 11 | oh.sua | 오수아 | PO |
| 12 | shin.yuna | 신유나 | Designer |

### Team 3

| ID | loginId | 이름 | 파트 |
|----|---------|------|------|
| 13 | seo.junhyuk | 서준혁 | iOS |
| 14 | hwang.minseo | 황민서 | AOS |
| 15 | jeon.daeun | 전다은 | BE(Spring) |
| 16 | song.jiwon | 송지원 | FE |
| 17 | jo.hyunwoo | 조현우 | PO |
| 18 | baek.seoyoung | 백서영 | Designer |

### Team 4

| ID | loginId | 이름 | 파트 |
|----|---------|------|------|
| 19 | yoo.taehyun | 유태현 | iOS |
| 20 | moon.chaewon | 문채원 | AOS |
| 21 | kwon.dohyun | 권도현 | BE(Spring) |
| 22 | yang.subin | 양수빈 | FE |
| 23 | hong.jimin | 홍지민 | PO |
| 24 | no.eunseo | 노은서 | Designer |

### Team 5

| ID | loginId | 이름 | 파트 |
|----|---------|------|------|
| 25 | ha.seungwoo | 하승우 | iOS |
| 26 | bae.sieun | 배시은 | AOS |
| 27 | ahn.jaehyun | 안재현 | BE(Spring) |
| 28 | ryu.dayoung | 류다영 | FE |
| 29 | son.minjae | 손민재 | PO |
| 30 | sung.jia | 성지아 | Designer |

### Team 6

| ID | loginId | 이름 | 파트 |
|----|---------|------|------|
| 31 | nam.hyunseo | 남현서 | iOS |
| 32 | jin.soyeon | 진소연 | AOS |
| 33 | gu.taeyoon | 구태윤 | BE(Spring) |
| 34 | yeom.harin | 염하린 | FE |
| 35 | chu.minseo | 추민서 | PO |
| 36 | bong.suhyun | 봉수현 | Designer |

---

## 세션 (20개)

### 정규 세션 (ID 1~15, 4월~10월)

4월 4일 OT가 첫 번째 정규 세션이며, 전체 36명의 출결 기록이 존재합니다.

| ID | 날짜 | 제목 |
|----|------|------|
| 1 | 2026-04-04 | OT |
| 2 | 2026-04-18 | PMF 검증 |
| 3 | 2026-05-02 | 1차 마일스톤 / MT |
| 4 | 2026-05-16 | 팀모임 |
| 5 | 2026-05-30 | 2차 마일스톤 |
| 6 | 2026-06-13 | 외부 UT 세션 |
| 7 | 2026-06-27 | 프로그라피 데이 |
| 8 | 2026-07-11 | 멘토 파트 별 모임 OB-YB |
| 9 | 2026-07-25 | 스프린트데이 |
| 10 | 2026-08-08 | 데모데이 |
| 11 | 2026-08-22 | 마케팅 컨설팅 |
| 12 | 2026-09-05 | 프로그라피 연사 컨퍼런스 |
| 13 | 2026-09-19 | 멘토 파트 별 모임 |
| 14 | 2026-10-03 | 외부 연사 컨퍼런스 |
| 15 | 2026-10-17 | 스타트업 데이 |

### 프리시즌 세션 (ID 16~20, 1월~2월)

정규 활동 시작 전 운영진/번개 모임입니다.

| ID  | 날짜         | 제목               |
| --- | ---------- | ---------------- |
| 16  | 2026-01-03 | 프로그라피 운영진 신년회    |
| 17  | 2026-01-24 | 프로그라피 워크샵        |
| 18  | 2026-01-31 | 프로그라피 번개 보드게임 파티 |
| 19  | 2026-02-07 | 운영진 총 회의         |
| 20  | 2026-02-14 | 리크루팅 데이          |

> 모든 세션은 `COMPLETED` 상태, 시간 `14:00`, 장소 `프로그라피 합정 오피스`입니다.

---

## QR 코드

| 항목 | 값 |
|------|-----|
| hashValue | `프로그라피 화이팅` (전체 세션 통일) |
| 만료일시 | 2027-12-31 23:59:59 (테스트용) |
| 유니크 제약 | `(sessionId, hashValue)` 복합키 |

---

## 출결 데이터

### 프리시즌 출결

#### prography 계정 전용 (세션 16, 17, 19, 20)

| 세션 | 날짜 | 상태 | 지각(분) | 패널티 |
|------|------|------|----------|--------|
| 16 | 01.03 운영진 신년회 | PRESENT | - | 0원 |
| 17 | 01.24 워크샵 | LATE | 5분 | 2,500원 |
| 19 | 02.07 총 회의 | ABSENT | - | 10,000원 |
| 20 | 02.14 리크루팅 데이 | EXCUSED | - | 0원 |

#### 전원 참석 (세션 18)

세션 18 (01.31 보드게임 파티)은 36명 전원의 출결 기록이 랜덤으로 생성되어 있습니다.

### 정규 세션 출결 (세션 1~15)

15개 세션 x 36명 = 540건의 출결 기록이 랜덤 분포로 생성됩니다.

**분포 비율 (근사치):**

| 상태 | 비율 |
|------|------|
| PRESENT (출석) | ~70% |
| LATE (지각) | ~10% |
| ABSENT (결석) | ~10% |
| EXCUSED (공결) | ~10% (회원당 최대 3회) |

**지각 시간:** 5분, 10분, 15분, 20분 중 랜덤 배정

---

## prography 계정 출결 요약

| 항목 | 값 |
|------|-----|
| 출석 (PRESENT) | 11회 |
| 결석 (ABSENT) | 3회 |
| 지각 (LATE) | 3회 |
| 공결 (EXCUSED) | 3회 (최대치) |
| 총 패널티 | 50,000원 |
| 보증금 잔액 | 50,000원 |

### prography 보증금 변동 이력

| 유형 | 금액 | 잔액 | 일시 | 사유 |
|------|------|------|------|------|
| INITIAL | +100,000 | 100,000 | 2025-12-01 | 초기 보증금 |
| PENALTY | -2,500 | 97,500 | 01.24 | 지각 5분 패널티 |
| PENALTY | -10,000 | 87,500 | 02.07 | 결석 패널티 |
| PENALTY | -10,000 | 77,500 | 04.04 | 지각 20분 패널티 |
| PENALTY | -10,000 | 67,500 | 05.16 | 결석 패널티 |
| PENALTY | -7,500 | 60,000 | 09.05 | 지각 15분 패널티 |
| PENALTY | -10,000 | 50,000 | 10.17 | 결석 패널티 |

---

## 전체 통계

| 항목 | 수량 |
|------|------|
| 기수 | 2개 (10기, 11기) |
| 파트 | 12개 (기수당 6개) |
| 팀 | 6개 (11기) |
| 회원 | 36명 (관리자 1 + 회원 35) |
| 세션 | 20개 (정규 15 + 프리시즌 5) |
| QR 코드 | 20개 |
| 출결 기록 | 580건 |
| 보증금 이력 | 152건 (초기 36 + 패널티 116) |

---

## 엔티티 변경 사항

### QrCode 복합 유니크키

동일한 `hashValue`를 여러 세션에서 사용할 수 있도록 `hashValue` 단독 유니크 → `(sessionId, hashValue)` 복합 유니크로 변경했습니다.

```kotlin
@Table(
    name = "qr_code",
    uniqueConstraints = [UniqueConstraint(columnNames = ["sessionId", "hashValue"])]
)
```

### AttendanceService 체크인 로직

동일 hashValue를 가진 다수의 QR 코드를 처리하도록 변경했습니다. 검증 순서(QR 유효성 → 만료 → 세션 상태)는 API 명세와 동일하게 유지됩니다.

```
1. hashValue로 QR 코드 전체 조회 → 없으면 QR_INVALID
2. 만료되지 않은 QR 필터링 → 전부 만료면 QR_EXPIRED
3. IN_PROGRESS 세션의 QR 찾기 → 없으면 SESSION_NOT_IN_PROGRESS
```
